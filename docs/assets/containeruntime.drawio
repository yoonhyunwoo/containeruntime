<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36" version="28.0.7">
  <diagram name="Container Runtime Flow" id="F6hrE6_8snewO8alHkbt">
    <mxGraphModel dx="1181" dy="650" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-42" value="Container Runtime Lifecycle Flow" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="400" y="20" width="400" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-43" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="50" y="80" width="1100" height="120" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-44" value="User Terminal Commands" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#1976D2;" vertex="1" parent="1">
          <mxGeometry x="70" y="90" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-45" value="containerruntime&#xa;create /bin/bash" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#2196F3;fontColor=white;strokeColor=#1976D2;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="100" y="130" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-46" value="containerruntime&#xa;start [id]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#2196F3;fontColor=white;strokeColor=#1976D2;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="530" y="130" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-47" value="containerruntime&#xa;delete [id]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#2196F3;fontColor=white;strokeColor=#1976D2;fontSize=12;fontStyle=1;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="960" y="130" width="140" height="50" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-48" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="50" y="230" width="1100" height="190" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-49" value="Container Runtime Process" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#7B1FA2;" vertex="1" parent="1">
          <mxGeometry x="70" y="240" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-50" value="Process Create &amp; Init&#xa;&#xa;• Fork process&#xa;• Setup namespace&#xa;• chroot /root/ubuntufs&#xa;• Mount proc &amp; tmpfs&#xa;• Setup hostname" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#9C27B0;fontColor=white;strokeColor=#7B1FA2;fontSize=11;align=left;" vertex="1" parent="1">
          <mxGeometry x="100" y="290" width="180" height="100" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-51" value="Wait for SIGCONT&#xa;&#xa;• SIGSTOP state&#xa;• Blocked until start&#xa;&#xa;State: CREATED" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#9C27B0;fontColor=white;strokeColor=#7B1FA2;fontSize=11;align=left;" vertex="1" parent="1">
          <mxGeometry x="460" y="290" width="160" height="100" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-52" value="Execute /bin/bash&#xa;&#xa;• Process replacement&#xa;• syscall.Exec(/bin/bash)&#xa;&#xa;State: RUNNING" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#9C27B0;fontColor=white;strokeColor=#7B1FA2;fontSize=11;align=left;" vertex="1" parent="1">
          <mxGeometry x="680" y="290" width="160" height="100" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-53" value="Process Termination&#xa;&#xa;• Clean termination&#xa;• Resource cleanup&#xa;&#xa;State: DELETED" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#9C27B0;fontColor=white;strokeColor=#7B1FA2;fontSize=11;align=left;perimeterSpacing=0;" vertex="1" parent="1">
          <mxGeometry x="950" y="280" width="160" height="100" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-54" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E8;strokeColor=#2E7D32;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="50" y="460" width="1100" height="120" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-55" value="Container Process (/bin/bash)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#2E7D32;" vertex="1" parent="1">
          <mxGeometry x="70" y="470" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-56" value="Interactive Shell Process&#xa;&#xa;• Isolated namespace&#xa;• Limited resources (cgroup)&#xa;• Chrooted filesystem" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#4CAF50;fontColor=white;strokeColor=#2E7D32;fontSize=12;align=left;" vertex="1" parent="1">
          <mxGeometry x="520" y="470" width="270" height="90" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-57" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF8E1;strokeColor=#F57F17;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="50" y="620" width="1100" height="120" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-58" value="Host System Resources" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#F57F17;" vertex="1" parent="1">
          <mxGeometry x="60" y="630" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-59" value="State File&#xa;&#xa;/run/containerruntime/&#xa;[id].json" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFC107;fontColor=#000000;strokeColor=#F57F17;fontSize=11;align=center;" vertex="1" parent="1">
          <mxGeometry x="200" y="660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-60" value="Cgroup Files&#xa;&#xa;/sys/fs/cgroup/&#xa;container-[id]/" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFC107;fontColor=#000000;strokeColor=#F57F17;fontSize=11;align=center;" vertex="1" parent="1">
          <mxGeometry x="840" y="640" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#1976D2;" edge="1" parent="1" source="ULH_qS7NUNPcQ6Mzx3sw-45" target="ULH_qS7NUNPcQ6Mzx3sw-50">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="190" y="210" />
              <mxPoint x="190" y="210" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-62" value="1. Create" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontStyle=1;backgroundColor=white;" vertex="1" connectable="0" parent="ULH_qS7NUNPcQ6Mzx3sw-61">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#7B1FA2;" edge="1" parent="1" source="ULH_qS7NUNPcQ6Mzx3sw-50" target="ULH_qS7NUNPcQ6Mzx3sw-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-64" value="2. Fork &amp; Wait" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontStyle=1;backgroundColor=white;" vertex="1" connectable="0" parent="ULH_qS7NUNPcQ6Mzx3sw-63">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#1976D2;" edge="1" parent="1" source="ULH_qS7NUNPcQ6Mzx3sw-46" target="ULH_qS7NUNPcQ6Mzx3sw-52">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-66" value="3. Start (SIGCONT)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontStyle=1;backgroundColor=white;" vertex="1" connectable="0" parent="ULH_qS7NUNPcQ6Mzx3sw-65">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#2E7D32;" edge="1" parent="1" source="ULH_qS7NUNPcQ6Mzx3sw-52" target="ULH_qS7NUNPcQ6Mzx3sw-56">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-68" value="4. Execute" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontStyle=1;backgroundColor=white;" vertex="1" connectable="0" parent="ULH_qS7NUNPcQ6Mzx3sw-67">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#1976D2;" edge="1" parent="1" source="ULH_qS7NUNPcQ6Mzx3sw-47" target="ULH_qS7NUNPcQ6Mzx3sw-53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-70" value="5. Delete (SIGKILL)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontStyle=1;backgroundColor=white;" vertex="1" connectable="0" parent="ULH_qS7NUNPcQ6Mzx3sw-69">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-71" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#F57F17;dashed=1;" edge="1" parent="1" source="ULH_qS7NUNPcQ6Mzx3sw-50" target="ULH_qS7NUNPcQ6Mzx3sw-59">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-72" value="Write State" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=9;backgroundColor=white;" vertex="1" connectable="0" parent="ULH_qS7NUNPcQ6Mzx3sw-71">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;strokeColor=#F57F17;dashed=1;" edge="1" parent="1" source="ULH_qS7NUNPcQ6Mzx3sw-53" target="ULH_qS7NUNPcQ6Mzx3sw-60">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ULH_qS7NUNPcQ6Mzx3sw-74" value="Clean Cgroup" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=9;backgroundColor=white;" vertex="1" connectable="0" parent="ULH_qS7NUNPcQ6Mzx3sw-73">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
